  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRXxFuQfwpv7tPUahOB2yP4S7dR3Nt_wg&libraries=places&callback=initAutocomplete"
         async defer></script>

<ng-form ng-controller="SearchStreetController">
  <div class="alert alert-success" ng-show="notFoundShow">Sorry, we couldn't find anything...</div>
  <div class="alert alert-danger" ng-show="errorShow">Something went wrong...</div>
  <div><label>Find your street</label></div>
  <div class="row">
    <div class="col-xs-4 col-sm-4 col-md-4 min-padding-right">
      <input id="pac-input" type="text" placeholder="Search Box">
      <script>
     function initAutocomplete(mapService) {

        var map = angular.injector(['ng', 'notinphillyServerApp']).get("mapService").getMap();
        // Create the search box and link it to the UI element.
        var input = document.getElementById('pac-input');
        var searchBox = new google.maps.places.SearchBox(input);
        // Bias the SearchBox results towards current map's viewport.

        var markers = [];
        // Listen for the event fired when the user selects a prediction and retrieve
        // more details for that place.
        searchBox.addListener('places_changed', function() {
          var places = searchBox.getPlaces();
          console.log(places[0].geometry.location);
          if (places.length == 0) {
              angular.injector(['ng', 'notinphillyServerApp']).get("mapService").goToCoordinates();
            return;
          }

        });
      }
       </script>
    </div>
  </div>
</ng-form>
